/* Zen Mode Styles - Clean & Aesthetic */

/* Zen mode body styling for immersive reading */
body.zen-mode {
  background: hsl(var(--background));
}

/* Base zen mode utility classes */
.zen-mode .zen-mode\:hidden {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
}

.zen-mode .zen-mode\:block {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Smooth fade out for elements leaving zen mode */
.zen-mode\:hidden {
  transition: opacity 0.4s ease-out, visibility 0.4s ease-out;
}

.zen-mode\:block {
  display: none;
  transition: opacity 0.5s ease-in;
}

/* Clean fade out animation for UI elements */
@keyframes zen-ui-fade-out {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-8px);
  }
}

/* Elegant scale-up fade-in for article */
@keyframes zen-article-enter {
  0% {
    opacity: 0;
    transform: scale(0.96) translateY(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Smooth fade-out for article when exiting zen mode */
@keyframes zen-article-exit {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.98) translateY(-10px);
  }
}

/* Apply animations during transition */
.zen-epic-transition .zen-mode\:hidden {
  animation: zen-ui-fade-out 0.4s ease-out forwards;
}

.zen-epic-transition .zen-mode\:block {
  animation: zen-article-enter 0.5s ease-out forwards;
}

.zen-mode.zen-epic-transition .zen-mode\:block {
  display: block !important;
  animation: zen-article-enter 0.5s ease-out forwards;
}

/* Exit transition animations */
.zen-mode-exit-transitioning .zen-mode\:hidden {
  animation: zen-ui-fade-out 0.3s ease-out forwards reverse;
}

.zen-mode-exit-transitioning .zen-mode\:block {
  animation: zen-article-exit 0.4s ease-out forwards;
}

/* Smooth fade back for regular content when exiting zen mode */
.zen-mode-exit-transitioning :not(.zen-mode\:block):not(.zen-mode\:hidden) {
  transition: opacity 0.3s ease-out;
}

.zen-mode-exit-transitioning :not(.zen-mode\:block):not(.zen-mode\:hidden) {
  opacity: 1;
}

/* Zen mode centered content layout */
.zen-mode .zen-content-centered {
  max-width: 45rem;
  margin-left: auto;
  margin-right: auto;
  padding-left: 2rem;
  padding-right: 2rem;
  padding-top: 3rem;
}

/* Improved typography for zen mode readability */
.zen-mode article {
  line-height: 1.8;
  font-size: 1.0625rem;
  letter-spacing: 0.01em;
}

.zen-mode article h1 {
  font-size: 2.5rem;
  line-height: 1.2;
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
}

.zen-mode article h2 {
  font-size: 1.75rem;
  line-height: 1.3;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  letter-spacing: -0.01em;
}

.zen-mode article h3 {
  font-size: 1.375rem;
  line-height: 1.4;
  margin-top: 2rem;
  margin-bottom: 0.75rem;
}

.zen-mode article p {
  margin-bottom: 1.5rem;
}

.zen-mode article ul,
.zen-mode article ol {
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
}

.zen-mode article li {
  margin-bottom: 0.5rem;
}

.zen-mode article code {
  font-size: 0.9375rem;
}

.zen-mode article pre {
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
  border-radius: 0.5rem;
}

.zen-mode .prose {
  max-width: none;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .zen-mode .zen-mode\:hidden,
  .zen-mode .zen-mode\:block,
  .max-w-7xl,
  .max-w-4xl,
  .zen-epic-transition .zen-mode\:hidden,
  .zen-epic-transition .zen-mode\:block,
  .zen-epic-transition article,
  .zen-content-wrapper {
    transition: none !important;
    animation: none !important;
  }
}
