/* Zen Mode Styles */

/* Base zen mode utility classes */
.zen-mode .zen-mode\:hidden {
  position: absolute !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  max-height: 0 !important;
  overflow: hidden !important;
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
}

.zen-mode .zen-mode\:block {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.zen-mode .zen-mode\:opacity-0 {
  opacity: 0 !important;
}

.zen-mode .zen-mode\:scale-95 {
  transform: scale(0.95) !important;
}

/* Smooth transitions for elements entering/exiting zen mode */
.zen-mode\:hidden {
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out, max-height 0.3s ease-out;
}

.zen-mode\:block {
  display: none;
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
}

/* Article width transition for zen mode */
.max-w-7xl,
.max-w-4xl {
  transition: max-width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Zen mode content fade-in animation */
@keyframes zen-fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.zen-mode .zen-mode\:block {
  animation: zen-fade-in 0.5s ease-out;
}

/* Epic Cinematic Zen Mode Transitions */

/* Cinematic swoosh effect when entering zen mode */
@keyframes zen-epic-enter {
  0% {
    opacity: 0;
    transform: scale(0.92) translateZ(0) translateY(30px);
    filter: blur(8px);
  }
  40% {
    opacity: 0.3;
    transform: scale(0.96) translateZ(0) translateY(15px);
    filter: blur(4px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateZ(0) translateY(0);
    filter: blur(0);
  }
}

/* Cinematic swoosh effect when exiting zen mode */
@keyframes zen-epic-exit {
  0% {
    opacity: 1;
    transform: scale(1) translateZ(0) translateY(0);
    filter: blur(0);
  }
  60% {
    opacity: 0.3;
    transform: scale(0.96) translateZ(0) translateY(-15px);
    filter: blur(4px);
  }
  100% {
    opacity: 0;
    transform: scale(0.92) translateZ(0) translateY(-30px);
    filter: blur(8px);
  }
}

/* Immersive zoom effect for article content */
@keyframes zen-article-zoom-in {
  0% {
    opacity: 0;
    transform: scale(0.88) translateZ(0);
    filter: blur(12px) brightness(0.7);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.94) translateZ(0);
    filter: blur(6px) brightness(0.85);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateZ(0);
    filter: blur(0) brightness(1);
  }
}

@keyframes zen-article-zoom-out {
  0% {
    opacity: 1;
    transform: scale(1) translateZ(0);
    filter: blur(0) brightness(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.06) translateZ(0);
    filter: blur(6px) brightness(0.85);
  }
  100% {
    opacity: 0;
    transform: scale(1.12) translateZ(0);
    filter: blur(12px) brightness(0.7);
  }
}

/* Epic transition classes */
body.zen-mode-epic-transitioning {
  overflow: hidden;
}

.zen-epic-transition .zen-mode\:hidden {
  animation: zen-epic-exit 1.4s cubic-bezier(0.77, 0, 0.175, 1) forwards;
}

.zen-epic-transition .zen-mode\:block {
  animation: zen-epic-enter 1.4s cubic-bezier(0.77, 0, 0.175, 1) forwards;
}

.zen-epic-transition article {
  animation: zen-article-zoom-in 1.6s cubic-bezier(0.77, 0, 0.175, 1) forwards;
}

.zen-mode.zen-epic-transition .zen-mode\:block {
  display: block !important;
  animation: zen-epic-enter 1.4s cubic-bezier(0.77, 0, 0.175, 1) forwards;
}

/* Enhanced content wrapper transitions */
.zen-content-wrapper {
  transition: all 1.2s cubic-bezier(0.77, 0, 0.175, 1);
}

.zen-mode .zen-content-wrapper {
  transform: scale(1);
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .zen-mode .zen-mode\:hidden,
  .zen-mode .zen-mode\:block,
  .max-w-7xl,
  .max-w-4xl,
  .zen-epic-transition .zen-mode\:hidden,
  .zen-epic-transition .zen-mode\:block,
  .zen-epic-transition article,
  .zen-content-wrapper {
    transition: none !important;
    animation: none !important;
  }
}
