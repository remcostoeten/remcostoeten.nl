@import url('https://fonts.googleapis.com/css2?family=Ubuntu+Sans:wght@400;600;700&display=swap');
@import 'tailwindcss';
@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@theme {
	--color-background: hsl(var(--background));
	--color-background-secondary: hsl(var(--background-secondary));
	--color-foreground: hsl(var(--foreground));
	--color-border: hsl(var(--border));
	--color-input: var(--input);
	--color-ring: hsl(var(--ring));
	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));
	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));
	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));
	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));
	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-foreground));
	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));
	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));
	--color-sidebar: hsl(var(--sidebar-background));
	--color-sidebar-foreground: hsl(var(--sidebar-foreground));
	--color-sidebar-primary: hsl(var(--sidebar-primary));
	--color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
	--color-sidebar-accent: hsl(var(--sidebar-accent));
	--color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
	--color-sidebar-border: hsl(var(--sidebar-border));
	--color-sidebar-ring: hsl(var(--sidebar-ring));
	--color-brand-400: hsl(var(--brand-400));
	--color-brand-500: hsl(var(--brand-500));
	--font-sans: 'Ubuntu Sans', system-ui, -apple-system, sans-serif;
	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);
}

@layer base {
	:root {
		--background: 0 0% 100%;
		--background-secondary: 0 0% 96%;
		--foreground: 0 0% 20%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 20%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 20%;
		--primary: 222 47% 11%;
		--primary-20: 222 47% 11% / 0.2;
		--primary-foreground: 0 0% 98%;
		--secondary: 220 14% 96%;
		--secondary-foreground: 222 47% 11%;
		--muted: 220 14% 96%;
		--muted-foreground: 0 0% 46%;
		--accent: 220 14% 96%;
		--accent-foreground: 222 47% 11%;
		--destructive: 355.47deg 98.62% 75.48% / 70%;
		--destructive-foreground: 355.47deg 98.62% 75.48% / 20%;
		--border: 220 13% 91%;
		--input: 220 13% 91%;
		--ring: 222 47% 11%;
		--radius: 0.375rem;
		--sidebar-background: 0 0% 100%;
		--sidebar-foreground: 0 0% 20%;
		--sidebar-primary: 222 47% 11%;
		--sidebar-primary-foreground: 0 0% 98%;
		--sidebar-accent: 220 14% 96%;
		--sidebar-accent-foreground: 222 47% 11%;
		--sidebar-border: 220 13% 91%;
		--sidebar-ring: 222 47% 11%;
		--brand-400: 167.8 53.25% 65%;
		--brand-500: 167.8 53.25% 54.71%;
	}

	.dark {
		--background: 0 0% 7%;
		--background-secondary: 0 0% 8.6%;
		--foreground: 0 0% 85%;
		--card: 0 0% 7%;
		--card-foreground: 0 0% 85%;
		--popover: 0 0% 7%;
		--popover-foreground: 0 0% 85%;
		--primary: 0 0% 90%;
		--primary-20: 0 0% 90% / 0.2;
		--primary-foreground: 0 0% 7%;
		--secondary: 0 0% 18%;
		--secondary-foreground: 0 0% 90%;
		--muted: 0 0% 18%;
		--muted-foreground: 0 0% 55%;
		--accent: 0 0% 18%;
		--accent-foreground: 0 0% 90%;
		--destructive: 355.47deg 98.62% 75.48% / 70%;
		--destructive-foreground: 355.47deg 98.62% 75.48% / 20%;
		--border: 0 0% 18%;
		--input: 0 0% 18%;
		--ring: 0 0% 90%;
		--sidebar-background: 0 0% 7%;
		--sidebar-foreground: 0 0% 85%;
		--sidebar-primary: 0 0% 90%;
		--sidebar-primary-foreground: 0 0% 7%;
		--sidebar-accent: 0 0% 18%;
		--sidebar-accent-foreground: 0 0% 90%;
		--sidebar-border: 0 0% 18%;
		--sidebar-ring: 0 0% 90%;
		--brand-400: 167.8 53.25% 65%;
		--brand-500: 167.8 53.25% 54.71%;
	}
}

@layer base {
	* {
		border-color: var(--color-border);
	}

	body {
		@apply bg-background text-foreground;
	}

	:where(p, span, li, h1, h2, h3, h4, h5, h6, a, button, label, td, th) {
		overflow-wrap: anywhere;
		word-break: break-word;
	}

	pre,
	code {
		overflow-x: auto;
		white-space: pre;
	}

	.font-brand {
		font-family: Georgia, 'Playfair Display', 'Times New Roman', serif;
	}

	.font-reading {
		font-family: Georgia, Cambria, 'Times New Roman', Times, serif;
	}
}

@plugin '@tailwindcss/typography';

/* Page Transition Animations - matching SPA behavior */
@keyframes enter {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes exit {
	0% {
		opacity: 1;
		transform: translateY(0);
	}

	100% {
		opacity: 0;
		transform: translateY(-4px);
	}
}

@keyframes stagger-in {
	0% {
		opacity: 0;
		transform: translateY(12px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes wiggle {

	0%,
	100% {
		transform: rotate(-12deg);
	}

	50% {
		transform: rotate(12deg);
	}
}

.animate-enter {
	animation: enter 0.3s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.animate-exit {
	animation: exit 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
	will-change: opacity, transform;
}

.animate-stagger {
	animation: stagger-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.animate-wiggle {
	animation: wiggle 1s ease-in-out infinite;
	will-change: transform;
}

/* Prevent layout shifts during animations */
@keyframes music-bar {

	0%,
	100% {
		height: 25%;
	}

	50% {
		height: 100%;
	}
}

/* Improve animation performance */
.animate-pulse {
	will-change: opacity;
}

/* Contain animations to prevent layout shifts */
@keyframes music-bar {

	0%,
	100% {
		height: 25%;
	}

	50% {
		height: 100%;
	}
}

/* Improve animation performance */
.animate-pulse {
	will-change: opacity;
}

/* Contain animations to prevent layout shifts */
.blog-card {
	contain: layout style paint;
}

.activity-section {
	contain: layout style;
}

/* Prevent layout shifts during loading */
.layout-stable {
	contain: layout style;
	overflow: hidden;
}

/* Smooth transitions without layout shifts */
.smooth-transition {
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: transform, opacity;
}

.activity-section {
	contain: layout style;
}

/* Stagger delays for list items */
.stagger-1 {
	animation-delay: 50ms;
}

.stagger-2 {
	animation-delay: 100ms;
}

.stagger-3 {
	animation-delay: 150ms;
}

.stagger-4 {
	animation-delay: 200ms;
}

.stagger-5 {
	animation-delay: 250ms;
}

.stagger-6 {
	animation-delay: 300ms;
}

.stagger-7 {
	animation-delay: 350ms;
}

.stagger-8 {
	animation-delay: 400ms;
}

/* Beautiful CodeBlock Utilities */
.scrollbar-hide {
	-ms-overflow-style: none;
	/* Internet Explorer 10+ */
	scrollbar-width: none;
	/* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
	display: none;
	/* Safari and Chrome */
}

/* Code Block Animations */
@keyframes codeblock-enter {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes codeblock-exit {
	0% {
		opacity: 1;
		transform: translateY(0);
	}

	100% {
		opacity: 0;
		transform: translateY(-4px);
	}
}

@keyframes codeblock-collapse {
	0% {
		opacity: 1;
		max-height: 1000px;
	}

	100% {
		opacity: 0;
		max-height: 0;
	}
}

@keyframes codeblock-expand {
	0% {
		opacity: 0;
		max-height: 0;
	}

	100% {
		opacity: 1;
		max-height: 1000px;
	}
}

@keyframes codeblock-copy-success {
	0% {
		opacity: 0;
		transform: scale(0.8);
	}

	50% {
		opacity: 1;
		transform: scale(1.1);
	}

	100% {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes codeblock-search-toggle {
	0% {
		max-width: 0;
		opacity: 0;
	}

	100% {
		max-width: 320px;
		opacity: 1;
	}
}

@keyframes codeblock-toast {
	0% {
		opacity: 0;
		transform: translateY(-8px) scale(0.95);
	}

	100% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes codeblock-chevron-rotate {
	0% {
		transform: rotate(0deg);
	}

	100% {
		transform: rotate(180deg);
	}
}

/* Code Block Animation Classes */
.codeblock-enter {
	animation: codeblock-enter 0.3s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.codeblock-exit {
	animation: codeblock-exit 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
	will-change: opacity, transform;
}

.codeblock-collapse {
	animation: codeblock-collapse 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: opacity, max-height;
}

.codeblock-expand {
	animation: codeblock-expand 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: opacity, max-height;
}

.codeblock-copy-success {
	animation: codeblock-copy-success 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform;
}

.codeblock-search-toggle {
	animation: codeblock-search-toggle 0.2s cubic-bezier(0.2, 0.9, 0.3, 1) forwards;
	will-change: max-width, opacity;
}

.codeblock-toast {
	animation: codeblock-toast 0.4s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform;
}

.codeblock-chevron-rotate {
	animation: codeblock-chevron-rotate 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: transform;
}

/* Code block line highlighting */
.bcv2-code-line {
	transition: background-color 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color;
}

.bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(212, 212, 216, 0.1));
}

.bcv2-code-line.bcv2-clicked {
	background-color: rgba(212, 212, 216, 0.15);
}

.bcv2-code-line.bcv2-search {
	background-color: rgba(212, 212, 216, 0.12);
}

/* Dark mode adjustments for code block */
.dark .bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(212, 212, 216, 0.1));
}

.dark .bcv2-code-line.bcv2-clicked {
	background-color: rgba(212, 212, 216, 0.15);
}

.dark .bcv2-code-line.bcv2-search {
	background-color: rgba(212, 212, 216, 0.12);
}

/* Light mode adjustments */
.bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(72, 72, 74, 0.08));
}

.bcv2-code-line.bcv2-clicked {
	background-color: rgba(72, 72, 74, 0.12);
}

.bcv2-code-line.bcv2-search {
	background-color: rgba(72, 72, 74, 0.1);
}

/* Code block container transitions */
.codeblock-container {
	transition: border-color 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: border-color;
}

.codeblock-header {
	transition: background-color 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color;
}

.codeblock-button {
	transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform, background-color, color;
}

.codeblock-search-input {
	transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color, color, border-color;
}

/* Performance optimizations */
.codeblock-content {
	contain: layout style paint;
}

.codeblock-syntax {
	contain: layout style;
}

/* Projects Showcase Animations */
@keyframes project-card-hover {
	0% {
		transform: translateY(0) scale(1);
	}
	100% {
		transform: translateY(-4px) scale(1.02);
	}
}

@keyframes tech-shimmer {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

.project-card {
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: transform, box-shadow, border-color;
}

.project-card:hover {
	animation: project-card-hover 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.tech-shimmer-effect {
	position: relative;
	overflow: hidden;
}

.tech-shimmer-effect::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(
		90deg,
		transparent,
		rgba(255, 255, 255, 0.1),
		transparent
	);
	animation: tech-shimmer 2s infinite;
}

/* Proficiency Bar Animation */
@keyframes proficiency-fill {
	0% {
		width: 0;
		opacity: 0;
	}
	50% {
		opacity: 1;
	}
	100% {
		opacity: 1;
	}
}

.proficiency-bar {
	animation: proficiency-fill 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Line Clamp Utility */
.line-clamp-3 {
	display: -webkit-box;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

/* Project and Tech Grid Performance */
.projects-grid {
	contain: layout style;
}

.tech-grid {
	contain: layout style;
}

/* Hover Effects for Links */
.link-hover-effect {
	position: relative;
	transition: color 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.link-hover-effect::after {
	content: '';
	position: absolute;
	bottom: -2px;
	left: 0;
	width: 0;
	height: 2px;
	background: currentColor;
	transition: width 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.link-hover-effect:hover::after {
	width: 100%;
}