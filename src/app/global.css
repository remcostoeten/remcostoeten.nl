@import 'tailwindcss';
@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@theme {
	--color-background: hsl(var(--background));
	--color-background-secondary: hsl(var(--background-secondary));
	--color-foreground: hsl(var(--foreground));
	--color-border: hsl(var(--border));
	--color-input: var(--input);
	--color-ring: hsl(var(--ring));
	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));
	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));
	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));
	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));
	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-foreground));
	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));
	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));
	--color-sidebar: hsl(var(--sidebar-background));
	--color-sidebar-foreground: hsl(var(--sidebar-foreground));
	--color-sidebar-primary: hsl(var(--sidebar-primary));
	--color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
	--color-sidebar-accent: hsl(var(--sidebar-accent));
	--color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
	--color-sidebar-border: hsl(var(--sidebar-border));
	--color-sidebar-ring: hsl(var(--sidebar-ring));
	--color-brand-400: hsl(var(--brand-400));
	--color-brand-500: hsl(var(--brand-500));
	--font-sans: 'Ubuntu Sans', system-ui, -apple-system, sans-serif;
	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);
}

@layer base {
	:root {
		--background: 0 0% 100%;
		--background-secondary: 0 0% 96%;
		--foreground: 0 0% 20%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 20%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 20%;
		--primary: 222 47% 11%;
		--primary-20: 222 47% 11% / 0.2;
		--primary-foreground: 0 0% 98%;
		--secondary: 220 14% 96%;
		--secondary-foreground: 222 47% 11%;
		--muted: 220 14% 96%;
		--muted-foreground: 0 0% 46%;
		--accent: 220 14% 96%;
		--accent-foreground: 222 47% 11%;
		--destructive: 355.47deg 98.62% 75.48% / 70%;
		--destructive-foreground: 355.47deg 98.62% 75.48% / 20%;
		--border: 220 13% 91%;
		--input: 220 13% 91%;
		--ring: 222 47% 11%;
		--radius: 0.375rem;
		--sidebar-background: 0 0% 100%;
		--sidebar-foreground: 0 0% 20%;
		--sidebar-primary: 222 47% 11%;
		--sidebar-primary-foreground: 0 0% 98%;
		--sidebar-accent: 220 14% 96%;
		--sidebar-accent-foreground: 222 47% 11%;
		--sidebar-border: 220 13% 91%;
		--sidebar-ring: 222 47% 11%;
		--brand-400: 167.8 53.25% 65%;
		--brand-500: 167.8 53.25% 54.71%;

		/* Syntax Highlighting - Light */
		--sh-background: 220 14% 94%;
		--sh-border: 220 13% 85%;
		--sh-text: 222 47% 11%;
		--sh-comment: 215 16% 47%;
		--sh-keyword: 335 78% 42%;
		--sh-string: 110 50% 30%;
		--sh-function: 250 50% 40%;
		--sh-number: 25 80% 40%;
		--sh-tag: 210 50% 40%;
		--sh-operator: 220 14% 40%;
		--sh-punctuation: 220 14% 40%;
	}

	.dark {
		--background: 0 0% 7%;
		--background-secondary: 0 0% 8.6%;
		--foreground: 0 0% 85%;
		--card: 0 0% 7%;
		--card-foreground: 0 0% 85%;
		--popover: 0 0% 7%;
		--popover-foreground: 0 0% 85%;
		--primary: 0 0% 90%;
		--primary-20: 0 0% 90% / 0.2;
		--primary-foreground: 0 0% 7%;
		--secondary: 0 0% 18%;
		--secondary-foreground: 0 0% 90%;
		--muted: 0 0% 18%;
		--muted-foreground: 0 0% 55%;
		--accent: 0 0% 18%;
		--accent-foreground: 0 0% 90%;
		--destructive: 355.47deg 98.62% 75.48% / 70%;
		--destructive-foreground: 355.47deg 98.62% 75.48% / 20%;
		--border: 0 0% 18%;
		--input: 0 0% 18%;
		--ring: 0 0% 90%;
		--sidebar-background: 0 0% 7%;
		--sidebar-foreground: 0 0% 85%;
		--sidebar-primary: 0 0% 90%;
		--sidebar-primary-foreground: 0 0% 7%;
		--sidebar-accent: 0 0% 18%;
		--sidebar-accent-foreground: 0 0% 90%;
		--sidebar-border: 0 0% 18%;
		--sidebar-ring: 0 0% 90%;
		--brand-400: 167.8 53.25% 65%;
		--brand-500: 167.8 53.25% 54.71%;

		/* Syntax Highlighting - Dark */
		--sh-background: 0 0% 9%;
		--sh-border: 0 0% 18%;
		--sh-text: 0 0% 93%;
		--sh-comment: 0 0% 55%;
		--sh-keyword: 355 80% 75%;
		--sh-string: 180 60% 75%;
		--sh-function: 270 70% 75%;
		--sh-number: 40 80% 70%;
		--sh-tag: 120 70% 75%;
		--sh-operator: 0 0% 70%;
		--sh-punctuation: 0 0% 70%;
	}
}

@layer base {
	* {
		border-color: var(--color-border);
	}

	body {
		@apply bg-background text-foreground;
	}

	:where(p, span, li, h1, h2, h3, h4, h5, h6, a, button, label, td, th) {
		overflow-wrap: anywhere;
		word-break: break-word;
	}

	pre,
	code {
		overflow-x: auto;
		white-space: pre;
	}

	.font-brand {
		font-family: Georgia, 'Playfair Display', 'Times New Roman', serif;
	}

	.font-reading {
		font-family: Georgia, Cambria, 'Times New Roman', Times, serif;
	}
}

@plugin '@tailwindcss/typography';

@keyframes enter {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes exit {
	0% {
		opacity: 1;
		transform: translateY(0);
	}

	100% {
		opacity: 0;
		transform: translateY(-4px);
	}
}

@keyframes stagger-in {
	0% {
		opacity: 0;
		transform: translateY(12px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes wiggle {

	0%,
	100% {
		transform: rotate(-12deg);
	}

	50% {
		transform: rotate(12deg);
	}
}

.animate-enter {
	animation: enter 0.3s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.animate-exit {
	animation: exit 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
	will-change: opacity, transform;
}

.animate-stagger {
	animation: stagger-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.animate-wiggle {
	animation: wiggle 1s ease-in-out infinite;
	will-change: transform;
}

@keyframes music-bar {

	0%,
	100% {
		height: 25%;
	}

	50% {
		height: 100%;
	}
}

.animate-pulse {
	will-change: opacity;
}

@keyframes music-bar {

	0%,
	100% {
		height: 25%;
	}

	50% {
		height: 100%;
	}
}

.animate-pulse {
	will-change: opacity;
}

.blog-card {
	contain: layout style paint;
}

.activity-section {
	contain: layout style;
}

.layout-stable {
	contain: layout style;
	overflow: hidden;
}

.smooth-transition {
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: transform, opacity;
}

.accordion-smooth {
	transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
	will-change: transform, opacity, height;
}

.activity-section {
	contain: layout style;
}

.stagger-1 {
	animation-delay: 50ms;
}

.stagger-2 {
	animation-delay: 100ms;
}

.stagger-3 {
	animation-delay: 150ms;
}

.stagger-4 {
	animation-delay: 200ms;
}

.stagger-5 {
	animation-delay: 250ms;
}

.stagger-6 {
	animation-delay: 300ms;
}

.stagger-7 {
	animation-delay: 350ms;
}

.stagger-8 {
	animation-delay: 400ms;
}

.scrollbar-hide {
	-ms-overflow-style: none;
	scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
	display: none;
}

@keyframes codeblock-enter {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes codeblock-exit {
	0% {
		opacity: 1;
		transform: translateY(0);
	}

	100% {
		opacity: 0;
		transform: translateY(-4px);
	}
}

@keyframes codeblock-collapse {
	0% {
		opacity: 1;
		max-height: 1000px;
	}

	100% {
		opacity: 0;
		max-height: 0;
	}
}

@keyframes codeblock-expand {
	0% {
		opacity: 0;
		max-height: 0;
	}

	100% {
		opacity: 1;
		max-height: 1000px;
	}
}

@keyframes codeblock-copy-success {
	0% {
		opacity: 0;
		transform: scale(0.8);
	}

	50% {
		opacity: 1;
		transform: scale(1.1);
	}

	100% {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes codeblock-search-toggle {
	0% {
		max-width: 0;
		opacity: 0;
	}

	100% {
		max-width: 320px;
		opacity: 1;
	}
}

@keyframes codeblock-toast {
	0% {
		opacity: 0;
		transform: translateY(-8px) scale(0.95);
	}

	100% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes codeblock-chevron-rotate {
	0% {
		transform: rotate(0deg);
	}

	100% {
		transform: rotate(180deg);
	}
}

.codeblock-enter {
	animation: codeblock-enter 0.3s cubic-bezier(0.16, 1, 0.3, 1) backwards;
	will-change: opacity, transform;
}

.codeblock-exit {
	animation: codeblock-exit 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
	will-change: opacity, transform;
}

.codeblock-collapse {
	animation: codeblock-collapse 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: opacity, max-height;
}

.codeblock-expand {
	animation: codeblock-expand 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: opacity, max-height;
}

.codeblock-copy-success {
	animation: codeblock-copy-success 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform;
}

.codeblock-search-toggle {
	animation: codeblock-search-toggle 0.2s cubic-bezier(0.2, 0.9, 0.3, 1) forwards;
	will-change: max-width, opacity;
}

.codeblock-toast {
	animation: codeblock-toast 0.4s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform;
}

.codeblock-chevron-rotate {
	animation: codeblock-chevron-rotate 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	will-change: transform;
}

.bcv2-code-line {
	transition: background-color 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color;
}

.bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(212, 212, 216, 0.1));
}

.bcv2-code-line.bcv2-clicked {
	background-color: rgba(212, 212, 216, 0.15);
}

.bcv2-code-line.bcv2-search {
	background-color: rgba(212, 212, 216, 0.12);
}

.dark .bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(212, 212, 216, 0.1));
}

.dark .bcv2-code-line.bcv2-clicked {
	background-color: rgba(212, 212, 216, 0.15);
}

.dark .bcv2-code-line.bcv2-search {
	background-color: rgba(212, 212, 216, 0.12);
}

.bcv2-code-line:hover {
	background-color: var(--bcv2-hover-color, rgba(72, 72, 74, 0.08));
}

.bcv2-code-line.bcv2-clicked {
	background-color: rgba(72, 72, 74, 0.12);
}

.bcv2-code-line.bcv2-search {
	background-color: rgba(72, 72, 74, 0.1);
}

.codeblock-container {
	transition: border-color 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: border-color;
}

.codeblock-header {
	transition: background-color 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color;
}

.codeblock-button {
	transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: opacity, transform, background-color, color;
}

.codeblock-search-input {
	transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: background-color, color, border-color;
}

.codeblock-content {
	contain: layout style paint;
}

.codeblock-syntax {
	contain: layout style;
}

@keyframes project-card-hover {
	0% {
		transform: translateY(0) scale(1);
	}

	100% {
		transform: translateY(-4px) scale(1.02);
	}
}

@keyframes tech-shimmer {
	0% {
		transform: translateX(-100%);
	}

	100% {
		transform: translateX(100%);
	}
}

.project-card {
	transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
	will-change: transform, box-shadow, border-color;
}

.project-card:hover {
	animation: project-card-hover 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.tech-shimmer-effect {
	position: relative;
	overflow: hidden;
}

.tech-shimmer-effect::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(90deg,
			transparent,
			rgba(255, 255, 255, 0.1),
			transparent);
	animation: tech-shimmer 2s infinite;
}

@keyframes proficiency-fill {
	0% {
		width: 0;
		opacity: 0;
	}

	50% {
		opacity: 1;
	}

	100% {
		opacity: 1;
	}
}

.proficiency-bar {
	animation: proficiency-fill 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.line-clamp-3 {
	display: -webkit-box;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

.projects-grid {
	contain: layout style;
}

.tech-grid {
	contain: layout style;
}

.link-hover-effect {
	position: relative;
	transition: color 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.link-hover-effect::after {
	content: '';
	position: absolute;
	bottom: -2px;
	left: 0;
	width: 0;
	height: 2px;
	background: currentColor;
	transition: width 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.link-hover-effect:hover::after {
	width: 100%;
}

/* Replicating chanhdai.com styles */
.bg-pattern {
	background-color: hsl(var(--background));
	background-image: radial-gradient(hsl(var(--foreground) / 0.07) 1px, transparent 1px);
	background-size: 16px 16px;
}

.screen-border {
	position: relative;
	width: 100%;
	height: 1px;
	background-color: hsl(var(--border));
	margin: 2rem 0;
}

.screen-border::before {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 100vw;
	height: 12px;
	background-image: repeating-linear-gradient(-45deg,
			transparent,
			transparent 2px,
			hsl(var(--foreground) / 0.05) 2px,
			hsl(var(--foreground) / 0.05) 3px);
	pointer-events: none;
	z-index: -1;
}

.full-width-header {
	width: 100vw;
	position: relative;
	left: 50%;
	right: 50%;
	margin-left: -50vw;
	margin-right: -50vw;
	border-top: 1px solid hsl(var(--border));
	border-bottom: 1px solid hsl(var(--border));
	border-bottom: 1px solid hsl(var(--border));
	background-image: repeating-linear-gradient(-45deg,
			transparent,
			transparent 2px,
			hsl(var(--foreground) / 0.03) 2px,
			hsl(var(--foreground) / 0.03) 3px);
	background-color: transparent;
	height: 44px;
	/* Fixed height as requested */
	display: flex;
	align-items: center;
	margin-bottom: 1.25rem;
	/* Space after the header */
}

@media (min-width: 640px) {
	.full-width-header {
		height: 48px;
		margin-bottom: 1.5rem;
	}
}

.header-content-container {
	width: 100%;
	max-width: 42rem;
	/* max-w-2xl equivalent */
	margin: 0 auto;
	padding-left: calc(var(--spacing) * 3);
	padding-right: calc(var(--spacing) * 3);
}

@media (min-width: 640px) {
	.header-content-container {
		padding-left: calc(var(--spacing) * 4);
		padding-right: calc(var(--spacing) * 4);
	}
}

@media (min-width: 768px) {
	.header-content-container {
		padding-left: 0;
		padding-right: 0;
	}
}

.header-content-container--with-padding {
	padding-left: calc(var(--spacing) * 4) !important;
	padding-right: calc(var(--spacing) * 4) !important;
}

@media (min-width: 640px) {
	.header-content-container--with-padding {
		padding-left: calc(var(--spacing) * 5) !important;
		padding-right: calc(var(--spacing) * 5) !important;
	}
}

@media (min-width: 768px) {
	.header-content-container {
		padding-left: 0;
		padding-right: 0;
	}
}

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: rgb(15 15 15);
}

::-webkit-scrollbar-thumb {
	background: rgb(60 60 60);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: rgb(90 90 90);
}

* {
	scrollbar-width: thin;
	scrollbar-color: rgb(60 60 60) rgb(15 15 15);
}

/* Utility class to hide scrollbars */
.scrollbar-hide {
	-ms-overflow-style: none;
	/* Internet Explorer 10+ */
	scrollbar-width: none;
	/* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
	display: none;
	/* Safari and Chrome */
}

@keyframes pattern-flow {
	0% {
		background-position: 0 0;
	}

	100% {
		background-position: -42.4264px -42.4264px;
	}
}

.animate-pattern-flow {
	animation: pattern-flow 60s linear infinite;
}

.hue-overlay::before {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(90deg,
			hsl(var(--brand-500) / 0.1),
			hsl(var(--primary) / 0.1),
			hsl(var(--brand-500) / 0.1));
	background-size: 200% 100%;
	animation: tech-shimmer 8s linear infinite;
	pointer-events: none;
	z-index: 0;
}

.header-content-container {
	position: relative;
	z-index: 1;
}

/* Tighter prose spacing */
.prose :where(h2, h3) {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose :where(p) {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}
